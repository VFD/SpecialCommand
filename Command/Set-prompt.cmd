@ECHO OFF
:: ============================================================
:: Script:  Set-prompt.cmd
:: Comment: Change the prompt
:: ============================================================
:: ------------------------------------------------------------
:: Trap infos
:: ------------------------------------------------------------
SET Domain=%USERDNSDOMAIN%
SET User=%USERNAME%
:: ------------------------------------------------------------
:: Make Lower case
:: ------------------------------------------------------------
CALL :LoCase Domain
CALL :LoCase User
:: ------------------------------------------------------------
:: Build nice Prompt using ANSI color
:: ASCII Character 27 (Esc) (Alt+027) => $E for prompt
:: ------------------------------------------------------------
PROMPT $_[$E[97m$D$B$T$E[0m]$S$E[92m%User%@%Domain%$E[0m$Son$S$E[93m%COMPUTERNAME%$E[0m$_$G$E[91m$P$E[0m$L$_$S#$S
GOTO END
:: ------------------------------------------------------------
:: Subroutine to convert the argument to all lower case.
:: ------------------------------------------------------------
:LoCase
FOR %%i IN ("A=a" "B=b" "C=c" "D=d" "E=e" "F=f" "G=g" "H=h" "I=i" "J=j" "K=k" "L=l" "M=m" "N=n" "O=o" "P=p" "Q=q" "R=r" "S=s" "T=t" "U=u" "V=v" "W=w" "X=x" "Y=y" "Z=z") DO CALL SET "%1=%%%1:%%~i%%"
EXIT /B
:: ------------------------------------------------------------
:: END
:: ------------------------------------------------------------
SET Domain=
SET User=
:END
:: -----[EOF]--------------------------------------------------